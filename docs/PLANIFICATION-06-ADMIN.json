{
  "phase": "06",
  "nom": "DASHBOARD ADMIN",
  "description": "Cr√©ation du dashboard admin avec authentification JWT et liste des contacts",
  "objectif": "Interface admin s√©curis√©e pour consulter et g√©rer les demandes de contact",
  
  "prerequis": [
    "Phase 05 valid√©e (backend fonctionnel)",
    "Supabase configur√© avec table contacts",
    "JWT secret configur√© dans backend .env"
  ],
  
  "architecture_auth": {
    "flow": [
      "1. User visite /admin ‚Üí AuthGuard redirect vers /admin/login",
      "2. User entre credentials ‚Üí POST /api/admin/login",
      "3. Backend v√©rifie credentials ‚Üí retourne JWT token",
      "4. Frontend stocke JWT dans localStorage",
      "5. Frontend redirect vers /admin/dashboard",
      "6. Toutes requ√™tes admin incluent JWT dans header Authorization",
      "7. Backend v√©rifie JWT avec middleware"
    ],
    "credentials_admin": {
      "username": "admin (hardcod√© backend pour l'instant)",
      "password": "√† d√©finir (hasher avec bcrypt)"
    },
    "note_securite": "Pour simplifier, 1 seul compte admin hardcod√©. Production = BDD users."
  },
  
  "proposition_design": {
    "titre": "üí° PROPOSITION DESIGN - Dashboard Moderne",
    "ameliorations": [
      {
        "nom": "Table contacts avec tri et filtres",
        "description": "Colonnes triables, filtres par statut, recherche",
        "benefice": "Gestion efficace des contacts",
        "css": "Table responsive avec hover rows"
      },
      {
        "nom": "Badges color√©s pour statuts",
        "description": "Badges nouveau (bleu), lu (orange), trait√© (vert)",
        "benefice": "Visibilit√© instantan√©e statuts",
        "css": "Badge avec border-radius, couleurs distinctes"
      },
      {
        "nom": "Modal d√©tails contact",
        "description": "Clic sur ligne ‚Üí modal avec tous d√©tails",
        "benefice": "Vue compl√®te sans quitter liste",
        "css": "Modal overlay avec animation"
      }
    ],
    "validation_requise": "Valider design avant impl√©mentation"
  },
  
  "fichiers": [
    {
      "ordre": 1,
      "nom": "admin.interface.ts",
      "path": "frontend/src/app/shared/models/admin.interface.ts",
      "type": "Interface",
      "description": "Interfaces TypeScript pour admin (login, contacts list)",
      "interfaces": [
        "LoginCredentials { username: string, password: string }",
        "LoginResponse { token: string, message: string }",
        "Contact (m√™me que backend avec id, status, timestamps)",
        "ContactsResponse { contacts: Contact[], total: number }"
      ],
      "instructions": [
        "Export interface LoginCredentials",
        "Export interface LoginResponse",
        "Export interface Contact (complet avec BDD fields)",
        "Export interface ContactsResponse",
        "Typage strict"
      ]
    },
    
    {
      "ordre": 2,
      "nom": "auth.service.ts (frontend)",
      "path": "frontend/src/app/core/services/auth.service.ts",
      "type": "Service",
      "description": "Service authentification frontend (login, logout, token management)",
      "methodes": [
        "login(credentials: LoginCredentials): Observable<LoginResponse>",
        "logout(): void",
        "getToken(): string | null",
        "isAuthenticated(): boolean"
      ],
      "logique": [
        "login: POST /api/admin/login, stocke token localStorage",
        "logout: supprime token localStorage",
        "getToken: r√©cup√®re token depuis localStorage",
        "isAuthenticated: v√©rifie pr√©sence token (basique)"
      ],
      "instructions": [
        "Injectable providedIn: 'root'",
        "Injection HttpClient avec inject()",
        "Import environment.apiUrl",
        "localStorage.setItem('jwt_token', token)",
        "localStorage.removeItem('jwt_token')",
        "localStorage.getItem('jwt_token')",
        "Typage strict, Observable pour login"
      ]
    },
    
    {
      "ordre": 3,
      "nom": "admin.service.ts (frontend)",
      "path": "frontend/src/app/core/services/admin.service.ts",
      "type": "Service",
      "description": "Service pour appels API admin (liste contacts, update status)",
      "methodes": [
        "getContacts(params?: { status?: string }): Observable<ContactsResponse>",
        "updateContactStatus(id: string, status: string): Observable<Contact>"
      ],
      "logique": [
        "getContacts: GET /api/admin/contacts avec query params",
        "updateContactStatus: PATCH /api/admin/contacts/:id",
        "Inclure JWT token dans headers Authorization"
      ],
      "instructions": [
        "Injectable providedIn: 'root'",
        "Injection HttpClient et AuthService",
        "Headers: Authorization: Bearer ${token}",
        "HttpParams pour query string",
        "Typage strict, Observable"
      ]
    },
    
    {
      "ordre": 4,
      "nom": "auth.guard.ts",
      "path": "frontend/src/app/core/guards/auth.guard.ts",
      "type": "Guard",
      "description": "Guard pour prot√©ger routes admin",
      "logique": [
        "V√©rifier si user authentifi√© (AuthService.isAuthenticated())",
        "Si oui: return true",
        "Si non: redirect vers /admin/login, return false"
      ],
      "instructions": [
        "Export const authGuard: CanActivateFn",
        "Injection AuthService et Router avec inject()",
        "Check authService.isAuthenticated()",
        "Si false: router.navigate(['/admin/login'])",
        "Return boolean",
        "Typage CanActivateFn"
      ]
    },
    
    {
      "ordre": 5,
      "nom": "auth.interceptor.ts",
      "path": "frontend/src/app/core/interceptors/auth.interceptor.ts",
      "type": "Interceptor",
      "description": "Interceptor HTTP pour ajouter JWT automatiquement aux requ√™tes admin",
      "logique": [
        "Intercepter toutes requ√™tes HTTP",
        "Si URL contient '/api/admin/', ajouter header Authorization",
        "Header: Authorization: Bearer ${token}"
      ],
      "instructions": [
        "Export const authInterceptor: HttpInterceptorFn",
        "Injection AuthService avec inject()",
        "Check si req.url.includes('/api/admin/')",
        "Clone request et ajoute header Authorization",
        "Return next(clonedRequest)",
        "Typage HttpInterceptorFn"
      ]
    },
    
    {
      "ordre": 6,
      "nom": "login.ts",
      "path": "frontend/src/app/features/admin/components/login/login.ts",
      "type": "Component",
      "description": "Composant formulaire login admin",
      "structure": {
        "selector": "app-login",
        "standalone": true,
        "imports": ["ReactiveFormsModule", "CommonModule", "RouterLink"],
        "template": "login.html",
        "styles": "login.scss"
      },
      "logique": [
        "FormGroup avec username et password (Validators.required)",
        "Signal isLoading = signal(false)",
        "Signal errorMessage = signal('')",
        "M√©thode onSubmit()",
        "AuthService.login() ‚Üí stocke token ‚Üí redirect /admin/dashboard"
      ],
      "instructions": [
        "Standalone component",
        "Injection FormBuilder, AuthService, Router",
        "FormGroup avec validators",
        "Signals pour √©tats UI",
        "onSubmit: appeler authService.login()",
        "Si success: router.navigate(['/admin/dashboard'])",
        "Si error: afficher errorMessage",
        "Typage strict"
      ]
    },
    
    {
      "ordre": 7,
      "nom": "login.html",
      "path": "frontend/src/app/features/admin/components/login/login.html",
      "type": "Template",
      "description": "Template formulaire login simple et sobre",
      "structure": [
        "<div class='login-page'>",
        "  <div class='login-card'>",
        "    <h1>Connexion Admin</h1>",
        "    <form [formGroup]='loginForm' (ngSubmit)='onSubmit()'>",
        "      <div class='form-group'>",
        "        <label>Nom d'utilisateur</label>",
        "        <input type='text' formControlName='username' />",
        "      </div>",
        "      <div class='form-group'>",
        "        <label>Mot de passe</label>",
        "        <input type='password' formControlName='password' />",
        "      </div>",
        "      @if (errorMessage()) {",
        "        <div class='error-message'>{{ errorMessage() }}</div>",
        "      }",
        "      <button type='submit' [disabled]='loginForm.invalid || isLoading()'>",
        "        @if (isLoading()) { Connexion... } @else { Se connecter }",
        "      </button>",
        "    </form>",
        "  </div>",
        "</div>"
      ],
      "instructions": [
        "Form centr√© verticalement et horizontalement",
        "Card avec shadow",
        "Control flow @if",
        "Disabled state button",
        "Classes coh√©rentes"
      ]
    },
    
    {
      "ordre": 8,
      "nom": "login.scss",
      "path": "frontend/src/app/features/admin/components/login/login.scss",
      "type": "Styles",
      "description": "Styles page login (centr√©, card, sobre)",
      "imports": [
        "@use '@assets/styles/variables' as *;",
        "@use '@assets/styles/mixins' as *;"
      ],
      "features": [
        "Page fullscreen avec flexbox center",
        "Card login centr√©e (max-width 400px)",
        "Background subtle",
        "Inputs avec focus state",
        "Bouton primary",
        "Error message en rouge"
      ],
      "instructions": [
        "Flexbox center (justify + align)",
        "Card avec padding, shadow, radius",
        "Inputs avec border, focus primary",
        "Bouton @include button ou custom",
        "Minimal et propre"
      ]
    },
    
    {
      "ordre": 9,
      "nom": "dashboard.ts",
      "path": "frontend/src/app/features/admin/components/dashboard/dashboard.ts",
      "type": "Component",
      "description": "Composant dashboard liste contacts avec filtres",
      "structure": {
        "selector": "app-dashboard",
        "standalone": true,
        "imports": ["CommonModule", "RouterLink"],
        "template": "dashboard.html",
        "styles": "dashboard.scss"
      },
      "logique": [
        "Signal contacts = signal<Contact[]>([])",
        "Signal filterStatus = signal<string>('tous')",
        "Signal isLoading = signal(true)",
        "Signal selectedContact = signal<Contact | null>(null)",
        "OnInit: charger contacts",
        "M√©thode loadContacts(status?: string)",
        "M√©thode filterByStatus(status: string)",
        "M√©thode updateStatus(id: string, newStatus: string)",
        "M√©thode viewDetails(contact: Contact)",
        "M√©thode logout()"
      ],
      "instructions": [
        "Standalone component",
        "Injection AdminService, AuthService, Router",
        "Signals pour donn√©es et √©tats",
        "ngOnInit: appeler loadContacts()",
        "loadContacts: adminService.getContacts() ‚Üí update contacts()",
        "filterByStatus: update filterStatus() ‚Üí reload",
        "updateStatus: adminService.updateContactStatus() ‚Üí reload",
        "viewDetails: update selectedContact() (pour modal)",
        "logout: authService.logout() ‚Üí redirect /admin/login",
        "Typage strict"
      ]
    },
    
    {
      "ordre": 10,
      "nom": "dashboard.html",
      "path": "frontend/src/app/features/admin/components/dashboard/dashboard.html",
      "type": "Template",
      "description": "Template dashboard avec header, filtres, table, modal",
      "structure": [
        "<div class='dashboard'>",
        "  <header class='dashboard-header'>",
        "    <h1>Dashboard Admin</h1>",
        "    <button (click)='logout()'>D√©connexion</button>",
        "  </header>",
        "  ",
        "  <div class='filters'>",
        "    <button (click)='filterByStatus(\"tous\")' [class.active]='filterStatus() === \"tous\"'>Tous</button>",
        "    <button (click)='filterByStatus(\"nouveau\")' [class.active]='filterStatus() === \"nouveau\"'>Nouveaux</button>",
        "    <button (click)='filterByStatus(\"lu\")' [class.active]='filterStatus() === \"lu\"'>Lus</button>",
        "    <button (click)='filterByStatus(\"trait√©\")' [class.active]='filterStatus() === \"trait√©\"'>Trait√©s</button>",
        "  </div>",
        "  ",
        "  @if (isLoading()) {",
        "    <div class='loading'>Chargement...</div>",
        "  } @else {",
        "    <table class='contacts-table'>",
        "      <thead>",
        "        <tr>",
        "          <th>Date</th>",
        "          <th>Nom</th>",
        "          <th>Email</th>",
        "          <th>Service</th>",
        "          <th>Statut</th>",
        "          <th>Actions</th>",
        "        </tr>",
        "      </thead>",
        "      <tbody>",
        "        @for (contact of contacts(); track contact.id) {",
        "          <tr (click)='viewDetails(contact)'>",
        "            <td>{{ contact.created_at | date:'short' }}</td>",
        "            <td>{{ contact.first_name }} {{ contact.last_name }}</td>",
        "            <td>{{ contact.email }}</td>",
        "            <td>{{ contact.service }}</td>",
        "            <td><span class='badge' [class]='contact.status'>{{ contact.status }}</span></td>",
        "            <td>",
        "              <select (change)='updateStatus(contact.id, $event.target.value)' [value]='contact.status'>",
        "                <option value='nouveau'>Nouveau</option>",
        "                <option value='lu'>Lu</option>",
        "                <option value='trait√©'>Trait√©</option>",
        "              </select>",
        "            </td>",
        "          </tr>",
        "        } @empty {",
        "          <tr><td colspan='6'>Aucun contact</td></tr>",
        "        }",
        "      </tbody>",
        "    </table>",
        "  }",
        "  ",
        "  @if (selectedContact()) {",
        "    <div class='modal-overlay' (click)='selectedContact.set(null)'>",
        "      <div class='modal' (click)='$event.stopPropagation()'>",
        "        <h2>D√©tails Contact</h2>",
        "        <p><strong>Nom:</strong> {{ selectedContact()?.first_name }} {{ selectedContact()?.last_name }}</p>",
        "        <p><strong>Email:</strong> {{ selectedContact()?.email }}</p>",
        "        <p><strong>T√©l√©phone:</strong> {{ selectedContact()?.phone }}</p>",
        "        <p><strong>Entreprise:</strong> {{ selectedContact()?.company }}</p>",
        "        <p><strong>Service:</strong> {{ selectedContact()?.service }}</p>",
        "        <p><strong>Budget:</strong> {{ selectedContact()?.budget }}</p>",
        "        <p><strong>Message:</strong> {{ selectedContact()?.message }}</p>",
        "        <button (click)='selectedContact.set(null)'>Fermer</button>",
        "      </div>",
        "    </div>",
        "  }",
        "</div>"
      ],
      "instructions": [
        "Header avec titre + bouton d√©connexion",
        "Filtres avec buttons et [class.active]",
        "Table responsive avec thead/tbody",
        "Control flow @for et @empty",
        "Date pipe pour format",
        "Badge avec class dynamique (nouveau/lu/trait√©)",
        "Select pour changer statut avec event (change)",
        "Modal overlay avec @if",
        "stopPropagation pour √©viter fermeture modal",
        "Accessibilit√© (aria si besoin)"
      ]
    },
    
    {
      "ordre": 11,
      "nom": "dashboard.scss",
      "path": "frontend/src/app/features/admin/components/dashboard/dashboard.scss",
      "type": "Styles",
      "description": "Styles dashboard (header, table, filtres, badges, modal)",
      "imports": [
        "@use '@assets/styles/variables' as *;",
        "@use '@assets/styles/mixins' as *;"
      ],
      "features": [
        "Header avec flexbox (titre left, logout right)",
        "Filtres buttons avec active state",
        "Table responsive, hover rows",
        "Badges color√©s par statut (nouveau=bleu, lu=orange, trait√©=vert)",
        "Modal overlay fullscreen avec backdrop",
        "Modal card centr√©",
        "Responsive mobile (table scroll horizontal)"
      ],
      "instructions": [
        "Header padding, border-bottom",
        "Filters buttons avec active border/background",
        "Table width 100%, border-collapse",
        "Hover tr: background subtle",
        "Badges avec padding, radius, colors",
        "Modal overlay: position fixed, rgba background",
        "Modal: max-width 600px, center",
        "Responsive: @media (max-width: 768px)"
      ]
    },
    
    {
      "ordre": 12,
      "nom": "admin.ts",
      "path": "frontend/src/app/features/admin/admin.ts",
      "type": "Component",
      "description": "Container admin (router-outlet pour login/dashboard)",
      "structure": {
        "selector": "app-admin",
        "standalone": true,
        "imports": ["RouterOutlet"],
        "template": "admin.html",
        "styles": "admin.scss"
      },
      "logique": [
        "Composant container simple",
        "Pas de logique (juste router-outlet)"
      ],
      "instructions": [
        "Standalone component",
        "Import RouterOutlet",
        "Template minimal avec router-outlet",
        "Pas de logique"
      ]
    },
    
    {
      "ordre": 13,
      "nom": "admin.html",
      "path": "frontend/src/app/features/admin/admin.html",
      "type": "Template",
      "description": "Template container admin",
      "structure": [
        "<div class='admin-container'>",
        "  <router-outlet />",
        "</div>"
      ],
      "instructions": [
        "Minimal",
        "Juste router-outlet"
      ]
    },
    
    {
      "ordre": 14,
      "nom": "admin.scss",
      "path": "frontend/src/app/features/admin/admin.scss",
      "type": "Styles",
      "description": "Styles container admin (minimal ou vide)",
      "instructions": [
        "Minimal ou vide",
        "Peut d√©finir background global admin si besoin"
      ]
    },
    
    {
      "ordre": 15,
      "nom": "app.routes.ts (UPDATE)",
      "path": "frontend/src/app/app.routes.ts",
      "type": "Routes Update",
      "description": "Ajouter routes admin avec guard et children",
      "routes_admin": [
        "{ path: 'admin', component: Admin, canActivate: [authGuard], children: [",
        "  { path: '', redirectTo: 'dashboard', pathMatch: 'full' },",
        "  { path: 'dashboard', component: Dashboard }",
        "] }",
        "{ path: 'admin/login', component: Login }"
      ],
      "instructions": [
        "Import Admin, Login, Dashboard, authGuard",
        "Route admin avec canActivate: [authGuard]",
        "Children: redirect vers dashboard par d√©faut",
        "Route login SANS guard (accessible publiquement)",
        "Ordre: apr√®s home et contact"
      ]
    },
    
    {
      "ordre": 16,
      "nom": "app.config.ts (UPDATE)",
      "path": "frontend/src/app/app.config.ts",
      "type": "Config Update",
      "description": "Ajouter authInterceptor dans providers",
      "modifications": [
        "Import { provideHttpClient, withInterceptors } from '@angular/common/http'",
        "Import authInterceptor",
        "provideHttpClient(withInterceptors([authInterceptor]))"
      ],
      "instructions": [
        "Import authInterceptor",
        "Modifier provideHttpClient() ‚Üí provideHttpClient(withInterceptors([authInterceptor]))",
        "V√©rifier pas de duplication"
      ]
    },
    
    {
      "ordre": 17,
      "nom": "auth.middleware.ts (backend)",
      "path": "backend/src/middleware/auth.middleware.ts",
      "type": "Middleware",
      "description": "Middleware backend pour v√©rifier JWT sur routes admin",
      "logique": [
        "Extraire token depuis header Authorization",
        "V√©rifier format 'Bearer TOKEN'",
        "V√©rifier token avec jwt.verify()",
        "Si valide: next()",
        "Si invalide: return 401 Unauthorized"
      ],
      "instructions": [
        "Import jwt from 'jsonwebtoken'",
        "Import dotenv pour JWT_SECRET",
        "Middleware verifyToken(req, res, next)",
        "Extraire token: req.headers.authorization?.split(' ')[1]",
        "jwt.verify(token, JWT_SECRET)",
        "Si error: res.status(401).json({ message: 'Unauthorized' })",
        "Si success: next()",
        "Typage Request, Response, NextFunction"
      ]
    },
    
    {
      "ordre": 18,
      "nom": "auth.service.ts (backend)",
      "path": "backend/src/services/auth.service.ts",
      "type": "Service",
      "description": "Service backend pour login admin (v√©rif credentials + g√©n√©ration JWT)",
      "methodes": [
        "async login(username: string, password: string): Promise<{ token: string }>"
      ],
      "logique": [
        "V√©rifier username === 'admin' (hardcod√© pour l'instant)",
        "V√©rifier password avec bcrypt.compare()",
        "Si OK: g√©n√©rer JWT token avec jwt.sign()",
        "Payload JWT: { username, role: 'admin' }",
        "Expiration: 7 jours",
        "Retourner { token }"
      ],
      "credentials_hardcoded": {
        "username": "admin",
        "password_hash": "√† g√©n√©rer avec bcrypt.hash('VotreMotDePasse', 10)"
      },
      "instructions": [
        "Import jwt from 'jsonwebtoken'",
        "Import bcrypt from 'bcryptjs'",
        "Import dotenv",
        "Hardcoded: ADMIN_USERNAME = 'admin'",
        "Hardcoded: ADMIN_PASSWORD_HASH = bcrypt.hashSync('password', 10)",
        "M√©thode login async",
        "Check username et bcrypt.compare()",
        "jwt.sign({ username, role: 'admin' }, JWT_SECRET, { expiresIn: '7d' })",
        "Return { token }",
        "Throw error si invalid credentials"
      ]
    },
    
    {
      "ordre": 19,
      "nom": "admin.controller.ts (backend)",
      "path": "backend/src/controllers/admin.controller.ts",
      "type": "Controller",
      "description": "Controllers backend pour routes admin (login, getContacts, updateContact)",
      "methodes": [
        "async login(req, res)",
        "async getContacts(req, res)",
        "async updateContactStatus(req, res)"
      ],
      "logique_login": [
        "Extraire username, password du body",
        "Appeler authService.login()",
        "Retourner { token, message: 'Login successful' }",
        "Catch errors ‚Üí 401"
      ],
      "logique_getContacts": [
        "Extraire query params (status, page, limit)",
        "Query Supabase avec filtres",
        "Retourner { contacts, total }",
        "Catch errors ‚Üí 500"
      ],
      "logique_updateStatus": [
        "Extraire id params et status body",
        "Update Supabase contact status",
        "Retourner { success: true, contact }",
        "Catch errors ‚Üí 500"
      ],
      "instructions": [
        "Import services (authService, supabase)",
        "Async functions avec try/catch",
        "Typage Request, Response",
        "Status codes appropri√©s (200, 401, 500)",
        "Validation basique (status in ['nouveau','lu','trait√©'])"
      ]
    },
    
    {
      "ordre": 20,
      "nom": "admin.routes.ts (backend)",
      "path": "backend/src/routes/admin.routes.ts",
      "type": "Routes",
      "description": "Routes backend admin (login public, autres prot√©g√©es par JWT)",
      "routes": [
        "POST /login (public)",
        "GET /contacts (protected)",
        "PATCH /contacts/:id (protected)"
      ],
      "middlewares": [
        "verifyToken sur routes prot√©g√©es"
      ],
      "instructions": [
        "Import Router, controllers, middlewares",
        "router.post('/login', login) // Sans verifyToken",
        "router.get('/contacts', verifyToken, getContacts)",
        "router.patch('/contacts/:id', verifyToken, updateContactStatus)",
        "Export router"
      ]
    },
    
    {
      "ordre": 21,
      "nom": "app.ts (UPDATE backend)",
      "path": "backend/src/app.ts",
      "type": "Application Update",
      "description": "Monter routes admin dans app Express",
      "modifications": [
        "Import adminRoutes",
        "app.use('/api/admin', adminRoutes)"
      ],
      "instructions": [
        "Import adminRoutes from './routes/admin.routes'",
        "Monter routes: app.use('/api/admin', adminRoutes)",
        "V√©rifier ordre (apr√®s /api/contact)"
      ]
    }
  ],
  
  "validation_phase": {
    "criteres_backend": [
      "POST /api/admin/login fonctionne (retourne JWT)",
      "GET /api/admin/contacts prot√©g√© (401 sans JWT)",
      "GET /api/admin/contacts fonctionne avec JWT valide",
      "PATCH /api/admin/contacts/:id fonctionne",
      "JWT v√©rifi√© correctement par middleware"
    ],
    "criteres_frontend": [
      "Route /admin redirect vers /admin/login si non auth",
      "Login form fonctionne (credentials corrects ‚Üí redirect dashboard)",
      "Dashboard affiche liste contacts",
      "Filtres par statut fonctionnent",
      "Update statut fonctionne",
      "Modal d√©tails s'ouvre au clic",
      "D√©connexion fonctionne",
      "Interceptor ajoute JWT automatiquement"
    ],
    "commandes_test": [
      "Backend:",
      "  cd backend && npm run dev",
      "  Postman: POST /api/admin/login { username, password }",
      "  Copier token",
      "  Postman: GET /api/admin/contacts, Header: Authorization: Bearer TOKEN",
      "",
      "Frontend:",
      "  cd frontend && ng serve",
      "  Ouvrir http://localhost:4200/admin",
      "  V√©rifier redirect vers /admin/login",
      "  Login avec credentials",
      "  V√©rifier dashboard affiche contacts",
      "  Tester filtres, update statut, modal"
    ]
  },
  
  "notes_importantes": [
    "Phase complexe (21 fichiers), prendre le temps",
    "Tester backend d'abord avec Postman avant frontend",
    "G√©n√©rer password hash avec bcrypt avant de coder",
    "Credentials hardcod√©s pour simplifier (production = BDD users)",
    "JWT stock√© dans localStorage (pas id√©al prod, mais OK pour ce projet)",
    "AuthGuard basique (v√©rifie juste pr√©sence token, pas validit√©)",
    "Workflow strict: 1 fichier = 1 validation",
    "Proposer design dashboard moderne si valid√©",
    "Derni√®re phase du projet !"
  ],
  
  "credentials_setup": {
    "note": "G√©n√©rer hash password AVANT phase 06",
    "commande": "node -e \"console.log(require('bcryptjs').hashSync('VotreMotDePasse', 10))\"",
    "copier_hash": "Utiliser le hash g√©n√©r√© dans auth.service.ts backend"
  },
  
  "integration_complete": {
    "test_final": [
      "1. D√©marrer backend (npm run dev)",
      "2. D√©marrer frontend (ng serve)",
      "3. Tester formulaire contact (/) ‚Üí v√©rifier BDD",
      "4. Login admin (/admin) avec credentials",
      "5. Voir contacts dans dashboard",
      "6. Changer statut contact",
      "7. D√©connexion",
      "8. V√©rifier guard bloque /admin sans auth"
    ],
    "felicitations": "Projet complet frontend + backend + admin ! üéâ"
  }
}